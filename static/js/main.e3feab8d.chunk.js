(this["webpackJsonpvex-website"]=this["webpackJsonpvex-website"]||[]).push([[0],{211:function(e,t,s){},212:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s(1),n=s.n(a),r=s(88),i=s.n(r),o=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,213)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),c(e),a(e),n(e),r(e)}))},l=s(21),j=s(3),d=s(89),b=s(90),h=s(94),u=s(93);function x(e){var t=e.toLowerCase().replace(/[^a-z0-9]/g,"").replace(/\s/g,"");return"https://i0.wp.com/cdn.auth0.com/avatars/".concat(t.substring(0,2).toLowerCase(),".png")}var m=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var c;return Object(d.a)(this,s),(c=t.call(this,e)).state={src:x(c.props.user.username),loaded:!1},c}return Object(b.a)(s,[{key:"componentDidMount",value:function(){this.setState({src:"https://api.vex.chat/avatar/"+this.props.user.userID})}},{key:"onError",value:function(){this.setState({src:x(this.props.user.username)})}},{key:"render",value:function(){var e=this,t=this.state.src,s=this.props.size||48;return Object(c.jsx)("span",{className:"image",children:Object(c.jsx)("img",{alt:"".concat(this.props.user.username,"'s avatar"),className:"image is-".concat(s.toString(),"x").concat(s.toString()," is-rounded ").concat(this.props.className||""," ").concat(this.state.loaded?"":"hidden"),src:t+"?hash="+this.props.hash.toString(),onError:this.onError.bind(this),onLoad:function(){e.setState({loaded:!0})}})})}}]),s}(a.Component);function p(){return Object(c.jsx)("section",{className:"section",children:Object(c.jsx)("div",{className:"container has-text-right",children:Object(c.jsx)("p",{children:"\xa9 2020 LogicBite LLC. All rights reserved."})})})}var O=s(7),v=s.p+"static/media/icon.f874b7cf.svg";function f(e){var t=Object(a.useState)(!1),s=Object(O.a)(t,2),n=s[0],r=s[1];return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)("header",{className:"navbar",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"navbar-brand",children:[Object(c.jsxs)(l.b,{to:"/",className:"logo-link navbar-item is-size-1 is-family-monospace",children:[Object(c.jsx)("img",{className:"logo",src:v,alt:"logo"}),"\xa0vex"]}),Object(c.jsxs)("span",{className:"navbar-burger burger ".concat(n?"is-active":""),onClick:function(){r(!n)},"data-target":"navbarMenuHeroC",children:[Object(c.jsx)("span",{}),Object(c.jsx)("span",{}),Object(c.jsx)("span",{})]})]}),Object(c.jsx)("div",{id:"navbarMenuHeroC",className:"navbar-menu ".concat(n?"is-active":""),children:Object(c.jsxs)("div",{className:"navbar-end",children:[Object(c.jsx)(l.b,{className:"navbar-item",to:"/privacy-policy",children:"Privacy Policy"}),Object(c.jsx)("span",{className:"navbar-item",children:Object(c.jsx)(l.b,{className:"button is-link",to:"/download",children:Object(c.jsx)("span",{children:"Download"})})})]})})]})}),Object(c.jsxs)("section",{className:"hero is-large is-black",id:"home",children:[Object(c.jsx)("div",{className:"hero-head"}),Object(c.jsx)("div",{className:"hero-body",children:Object(c.jsx)("div",{className:"container",children:e.content})})]})]})}var g=s(16),N=s.n(g),y=s(24),w=s(55),k=s(25),S=s(17),_=s(8),C=s(14),L=s.n(C),D=function(e){switch(e){case"exe":return Object(c.jsx)(_.a,{icon:k.e});case"AppImage":return Object(c.jsx)(_.a,{icon:k.c});case"deb":return Object(c.jsx)(_.a,{icon:k.d});case"dmg":return Object(c.jsx)(_.a,{icon:k.a});default:return Object(c.jsx)(_.a,{icon:S.d})}},F=function(e){var t=e.split(".");return t[t.length-1]};function I(e){var t,s=new Array(4),c=Object(w.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;switch(F(a.name)){case"exe":s[0]=a;break;case"dmg":s[1]=a;break;case"AppImage":s[3]=a}}}catch(n){c.e(n)}finally{c.f()}return s}function A(e){var t=F(e.file.name);return Object(c.jsx)("a",{href:e.file.browser_download_url,children:Object(c.jsx)("div",{className:"brand-icon",children:D(t)})})}function U(){var e=Object(a.useState)(null),t=Object(O.a)(e,2),s=t[0],n=t[1],r=Object(a.useState)(!1),i=Object(O.a)(r,2),o=i[0],l=i[1];return Object(a.useMemo)((function(){(function(){var e=Object(y.a)(N.a.mark((function e(){var t,s,c,a,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("https://api.github.com/repos/vex-chat/vex-desktop/releases");case 3:t=e.sent,s=t.data,c=!1,a=Object(w.a)(s),e.prev=7,a.s();case 9:if((r=a.n()).done){e.next=17;break}if(12!==(i=r.value).assets.length){e.next=15;break}return n(i),c=!0,e.abrupt("break",17);case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:c||l(!0),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),console.warn("Fetch failed.");case 31:case"end":return e.stop()}}),e,null,[[0,28],[7,19,22,25]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(s),o?Object(c.jsx)("span",{children:Object(c.jsxs)("div",{className:"container has-text-centered",children:[Object(c.jsx)("h1",{className:"title is-family-monospace ",children:"vex desktop"}),Object(c.jsx)("div",{className:"columns is-mobile is-centered",children:Object(c.jsx)("div",{className:"column is-narrow brand-link",children:Object(c.jsx)("a",{href:"https://github.com/vex-chat/vex-desktop/releases",className:"has-text-white",rel:"noreferrer",target:"_blank",children:"Click here to go to download page"})})}),Object(c.jsx)("a",{className:"is-family-monospace",href:"https://github.com/vex-chat/vex-desktop",children:"source code"})]})}):Object(c.jsxs)("div",{className:"container has-text-centered",children:[Object(c.jsxs)("h1",{className:"title is-family-monospace",children:[s&&"vex desktop"," ",null===s||void 0===s?void 0:s.tag_name]}),Object(c.jsx)("div",{className:"columns is-mobile is-centered",children:I((null===s||void 0===s?void 0:s.assets)||[]).map((function(e){return Object(c.jsx)("div",{className:"column is-narrow brand-link",children:Object(c.jsx)(A,{file:e})},e.id)}))}),Object(c.jsx)("a",{className:"is-family-monospace",target:"_blank",href:"https://github.com/vex-chat/vex-desktop",children:"source code"}),Object(c.jsx)("br",{}),Object(c.jsx)("a",{className:"is-family-monospace",target:"_blank",href:(null===s||void 0===s?void 0:s.html_url)||"https://github.com/vex-chat/vex-desktop/releases",children:"alternative downloads"})]})}function M(){return Object(c.jsxs)("div",{className:"panel-wrapper container",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)(_.a,{icon:S.b,className:"has-text-success"})}),"\xa0 We collect as little data from you as possible."]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)(_.a,{icon:S.e})}),"\xa0 End to end encrypted. Your messages can't be read by us."]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)(_.a,{icon:S.a})}),"\xa0 Supports your right to"," ",Object(c.jsx)("a",{target:"__blank",rel:"noopener noreferrer",href:"https://constitution.congress.gov/browse/essay/amdt1_4_1/",children:"peacefully assemble and communicate"}),"."]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"icon",children:Object(c.jsx)(_.a,{icon:k.b})}),"\xa0\xa0",Object(c.jsx)("a",{href:"https://github.com/vex-chat",target:"__blank",children:"Open source."})," ","Feel free to lend a hand."]}),Object(c.jsx)("br",{})]})}function T(){return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(f,{content:Object(c.jsx)(U,{})})," ",Object(c.jsx)(p,{})]})}var z=s(36),P=s.n(z);function E(e){var t=Object(a.useState)(null),s=Object(O.a)(t,2),n=s[0],r=s[1],i=Object(a.useState)(null),o=Object(O.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(null),b=Object(O.a)(d,2),h=b[0],u=b[1],x=Object(a.useState)(!1),v=Object(O.a)(x,2),g=v[0],w=v[1],k=Object(a.useState)(!0),C=Object(O.a)(k,2),D=C[0],F=C[1],I=Object(a.useRef)(null),A=Object(a.useState)(""),U=Object(O.a)(A,2),M=U[0],T=U[1];return Object(a.useMemo)(Object(y.a)(N.a.mark((function t(){var s,c,a,n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.get("https://api.vex.chat/invite/"+e.match.params.id,{responseType:"arraybuffer"});case 2:if(s=t.sent,c=P.a.decode(new Uint8Array(s.data)),j(c),!(new Date(c.expiration).getTime()<Date.now())){t.next=9;break}return w(!0),F(!1),t.abrupt("return");case 9:return t.next=11,L.a.get("https://api.vex.chat/user/"+c.owner,{responseType:"arraybuffer"});case 11:return a=t.sent,u(P.a.decode(new Uint8Array(a.data))),t.next=15,L.a.get("https://api.vex.chat/server/"+c.serverID,{responseType:"arraybuffer"});case 15:n=t.sent,r(P.a.decode(new Uint8Array(n.data))),F(!1);case 18:case"end":return t.stop()}}),t)}))),[e.match.params.id]),D?Object(c.jsxs)("div",{className:"view",children:[Object(c.jsx)(f,{content:Object(c.jsx)("span",{})}),Object(c.jsx)(p,{})]}):g?Object(c.jsxs)("div",{className:"view",children:[Object(c.jsx)(f,{content:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"title",children:"Uh oh, that invite's expired."}),Object(c.jsx)("p",{children:"Ask your friend for a new one."})]})}),Object(c.jsx)(p,{})]}):Object(c.jsxs)("div",{className:"view",children:[Object(c.jsx)(f,{content:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"title is-family-monospace",children:"Lucky you, you're invited."}),Object(c.jsxs)("div",{className:"columns",children:[Object(c.jsx)("div",{className:"column is-narrow",children:h&&Object(c.jsx)(m,{hash:Date.now(),user:h})}),Object(c.jsxs)("div",{className:"column is-narrow",children:[h&&h.username," has invited you to"," ",Object(c.jsx)("strong",{className:"has-text-white is-family-monospace",children:(null===n||void 0===n?void 0:n.name)||""})]})]}),Object(c.jsx)("button",{className:"button",onClick:function(){window.open("vex://"+(null===l||void 0===l?void 0:l.inviteID),"_self")},children:"Join"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"input-wrapper",children:[Object(c.jsxs)("label",{className:"help copy-text has-text-white has-text-weight-bold",children:["Or, copy this invite code / url into your client."," ",Object(c.jsx)("span",{className:"has-text-grey",children:M})]}),Object(c.jsxs)("div",{className:"field has-addons",children:[Object(c.jsx)("p",{className:"control",onClick:function(e){var t;console.log(null===l||void 0===l?void 0:l.inviteID),null===(t=I.current)||void 0===t||t.select(),T("Copied!"),document.execCommand("copy"),setTimeout((function(){T("")}),1500)},children:Object(c.jsx)("button",{className:"button is-light",children:Object(c.jsx)(_.a,{icon:S.c})})}),Object(c.jsx)("p",{className:"control is-expanded",children:Object(c.jsx)("input",{ref:I,readOnly:!0,className:"input",value:(null===l||void 0===l?void 0:l.inviteID)||""})})]})]})]})}),Object(c.jsx)(p,{})]})}var B=s(92),H=s.n(B);function J(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),s=t[0],n=t[1],r=Object(a.useState)([]),i=Object(O.a)(r,2),o=i[0],l=i[1];return Object(a.useMemo)(Object(y.a)(N.a.mark((function e(){var t,s,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("https://raw.githubusercontent.com/vex-chat/privacy-policy/main/PrivacyPolicy.md");case 2:return t=e.sent,n(t.data),e.next=6,L.a.get("https://api.github.com/repos/vex-chat/privacy-policy/commits/main");case 6:return s=e.sent,e.next=9,L.a.get("https://api.github.com/repos/vex-chat/privacy-policy/commits?per_page=10&sha="+s.data.sha);case 9:c=e.sent,l(c.data),console.log(c.data);case 12:case"end":return e.stop()}}),e)}))),[]),Object(c.jsxs)("div",{className:"view",children:[Object(c.jsx)(f,{content:Object(c.jsxs)("div",{className:"content is-large  is-family-monospace",children:[Object(c.jsxs)("h1",{className:"title has-text-white",children:["privacy policy"," "]}),Object(c.jsx)("h2",{className:"subtitle is-size-5",children:"we care about your privacy"})]})}),Object(c.jsx)("section",{className:"has-background-light section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"columns",children:Object(c.jsxs)("div",{className:"column has-text-justified is-half",children:[o&&o[0]&&Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(R,{commit:o[0],showLastUpdated:!0},o[0].sha),Object(c.jsx)("br",{})]}),Object(c.jsx)(H.a,{renderers:{},children:s}),Object(c.jsx)("h2",{children:"Update History"}),o.map((function(e){return Object(c.jsx)(R,{commit:e,showLastUpdated:!1},e.sha)})),Object(c.jsx)("a",{className:"help",href:"https://github.com/vex-chat/privacy-policy/commits/main",children:"complete change history"})]})})})}),Object(c.jsx)(p,{})]})}function R(e){return Object(c.jsxs)("p",{className:"help no-pad",children:[e.showLastUpdated&&"Last updated on ",new Date(e.commit.commit.author.date).toLocaleDateString(),": ",e.commit.commit.message," ",Object(c.jsx)("a",{href:e.commit.html_url,children:"view diff"})]})}function W(){return Object(c.jsxs)("div",{className:"view",children:[Object(c.jsx)(f,{content:Object(c.jsxs)("div",{className:"content is-large  is-family-monospace",children:[Object(c.jsxs)("h1",{className:"title has-text-white",children:["vex messenger"," ",Object(c.jsx)("span",{className:"is-light tag",children:"beta"})]}),Object(c.jsx)("h2",{className:"subtitle is-size-5",children:"encrypted group chat"}),Object(c.jsxs)(l.b,{to:"/download",className:"not-button has-text-white is-size-5",children:["download now"," ",Object(c.jsx)("span",{children:Object(c.jsx)(_.a,{icon:S.f})})]})]})}),Object(c.jsx)("section",{className:"has-background-light section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(M,{})})}),Object(c.jsx)(p,{})]})}function Y(){return Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(c.jsx)(W,{})}}),Object(c.jsx)(j.a,{exact:!0,path:"/download",render:function(){return Object(c.jsx)(T,{})}}),Object(c.jsx)(j.a,{exact:!0,path:"/privacy-policy",render:function(){return Object(c.jsx)(J,{})}}),Object(c.jsx)(j.a,{path:"/invite/:id",render:function(e){var t=e.match;return Object(c.jsx)(E,{match:t})}})]})})}s(211);i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(Y,{})}),document.getElementById("root")),o()}},[[212,1,2]]]);
//# sourceMappingURL=main.e3feab8d.chunk.js.map